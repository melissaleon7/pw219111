<!DOCTYPE html>
<html>
<head>
	<title>
		Geolocalizaci칩n
	</title>
</head>
<body>

 <p id="demo">Obtener posici칩n en el mapa</p>
 <button onclick="localizacion();">Aceptar</button>
 <div id="mapa"> </div>
 <script type="text/javascript">
 	function localizacion(){
 		function muestraPosicion(position){
             var latlo=position.coords.latitude+","+position.coords.longitude;
             var imagenMapa="https://maps.googleapis.com/maps/api/staticmap?center="+latlo+"&zoom=14&size=400x300&key=AIzaSyAtKadHnn8uAWyBRXYrLPGuTX3FY_2M3ew"
             document.getElementById('mapa').innerHTML= "<img src='"+imagenMapa+"'>";
             document.getElementById("demo").innerHTML=latlo;
 		}
 		function muestraError(error){
          var mensaje="";
          switch(error.code){
          	case error.PERMISSION_DENIED:
          	 mensaje="El usuario no autoriz칩."
          	 break;
          	case error.POSITION_UNAVAILABLE:
          	 mensaje="No est치 disponible."
          	 break;
          	case error.TIMEOUT:
          	 mensaje="La solicitud ha tardado."
          	 break;
          	case error.UNKNOWN_ERROR:
          	 mensaje="Error desconocido."
          	 break;
          }


          document.getElementById("demo").innerHTML=mensaje;

 		}
 		//si el navegador soporta la geolocalizacion
 		if(navigator.geolocation){
                navigator.geolocation.getCurrentPosition(muestraPosicion,muestraError);//callback
 		} }	

 </script>
</body>
</html>